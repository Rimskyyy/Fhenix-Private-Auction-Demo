<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fhenix Private Auction - See FHE in Action</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            animation: fadeIn 1s ease-in;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        header p {
            font-size: 1.1em;
            opacity: 0.95;
            margin-bottom: 5px;
        }

        .explanation-box {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .explanation-box h2 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.8em;
        }

        .explanation-box p {
            line-height: 1.8;
            color: #333;
            margin-bottom: 15px;
        }

        .highlight {
            background: #fff3cd;
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: #856404;
        }

        .demo-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 25px;
        }

        .demo-card h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.6em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .auction-item {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 25px;
            text-align: center;
        }

        .auction-item h3 {
            font-size: 1.8em;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .auction-item .price {
            font-size: 1.3em;
            color: #27ae60;
            font-weight: 600;
        }

        .bidder-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .bidder-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border: 3px solid #e0e0e0;
            transition: all 0.3s ease;
        }

        .bidder-card.active {
            border-color: #667eea;
            background: #f0f4ff;
            transform: scale(1.02);
        }

        .bidder-card h4 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        input[type="number"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1.1em;
            margin-bottom: 12px;
            transition: border-color 0.3s;
        }

        input:focus {
            outline: none;
            border-color: #667eea;
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            width: 100%;
            font-weight: 600;
        }

        button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        button:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
        }

        .bid-status {
            margin-top: 12px;
            padding: 10px;
            border-radius: 6px;
            font-size: 0.9em;
            text-align: center;
            font-weight: 600;
        }

        .bid-status.encrypted {
            background: #ffe0e0;
            color: #c0392b;
        }

        .bid-status.submitted {
            background: #d4edda;
            color: #155724;
        }

        .process-visualization {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .process-step {
            display: flex;
            align-items: center;
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .step-number {
            background: #667eea;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        .step-content h4 {
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .step-content p {
            color: #666;
            font-size: 0.95em;
        }

        .reveal-section {
            margin-top: 25px;
            padding: 20px;
            background: #f0f4ff;
            border-radius: 10px;
            border: 2px solid #667eea;
        }

        .reveal-section h3 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .winner-announcement {
            background: linear-gradient(135deg, #ffd89b 0%, #19547b 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            font-size: 1.3em;
            margin-top: 20px;
            animation: slideIn 0.5s ease-out;
        }

        .comparison-box {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }

        .comparison-item {
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .comparison-item.bad {
            background: #ffe0e0;
            border: 2px solid #e74c3c;
        }

        .comparison-item.good {
            background: #d4edda;
            border: 2px solid #27ae60;
        }

        .comparison-item h4 {
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .encrypted-data {
            font-family: 'Courier New', monospace;
            background: #2c3e50;
            color: #2ecc71;
            padding: 12px;
            border-radius: 6px;
            margin: 10px 0;
            word-break: break-all;
            font-size: 0.85em;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .reset-btn {
            background: #e74c3c;
            margin-top: 15px;
        }

        .reset-btn:hover {
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.4);
        }

        footer {
            text-align: center;
            color: white;
            margin-top: 30px;
            padding: 20px;
        }

        footer a {
            color: white;
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üîê Fhenix Private Auction Demo</h1>
            <p>See Fully Homomorphic Encryption (FHE) in Action</p>
            <p style="font-size: 0.9em; margin-top: 5px;"></p>
        </header>

        <!-- Explanation Section -->
        <div class="explanation-box">
            <h2>üéØ What You're About to Experience</h2>
            <p>
                Imagine a <span class="highlight">sealed-bid auction</span> where everyone submits their bids secretly, and nobody (not even the auctioneer!) can see what others bid until the end. This is impossible on traditional blockchains because everything is public.
            </p>
            <p>
                <strong>With Fhenix's FHE technology:</strong> Your bid gets <span class="highlight">encrypted before hitting the blockchain</span>. The smart contract can still compare all bids to find the winner, but it does this <span class="highlight">without ever decrypting them</span>. Only at the end, when you choose to reveal, do the bids become visible.
            </p>
            <p>
                <strong>Why this matters:</strong> In real auctions (token sales, NFT drops, liquidation auctions), being able to see other people's bids lets whales and bots manipulate prices. FHE prevents this by keeping bids private while still being verifiable on-chain.
            </p>
        </div>

        <!-- The Demo -->
        <div class="demo-card">
            <h2>üñºÔ∏è Live Auction: Rare Digital Artwork NFT</h2>
            
            <div class="auction-item">
                <h3>üé® "Encrypted Dreams" NFT</h3>
                <p style="margin: 10px 0; color: #555;">Limited Edition Digital Art</p>
                <div class="price">Starting Bid: $5,000</div>
            </div>

            <div class="comparison-box">
                <div class="comparison-item bad">
                    <h4>‚ùå Traditional Blockchain</h4>
                    <p>Everyone sees your bid instantly. Bots can outbid you by $1.</p>
                </div>
                <div class="comparison-item good">
                    <h4>‚úÖ Fhenix FHE</h4>
                    <p>Your bid is encrypted. No one can see it until reveal.</p>
                </div>
            </div>

            <h3 style="color: #2c3e50; margin: 25px 0 15px 0;">Place Your Bids (3 Bidders)</h3>
            
            <div class="bidder-section">
                <div class="bidder-card" id="bidder1-card">
                    <h4>üë§ Bidder Alice</h4>
                    <input type="number" id="bid1" placeholder="Enter bid amount ($)" min="5000" step="100">
                    <button onclick="placeBid(1)" id="btn1">Encrypt & Submit Bid</button>
                    <div class="bid-status" id="status1"></div>
                </div>

                <div class="bidder-card" id="bidder2-card">
                    <h4>üë§ Bidder Bob</h4>
                    <input type="number" id="bid2" placeholder="Enter bid amount ($)" min="5000" step="100">
                    <button onclick="placeBid(2)" id="btn2">Encrypt & Submit Bid</button>
                    <div class="bid-status" id="status2"></div>
                </div>

                <div class="bidder-card" id="bidder3-card">
                    <h4>üë§ Bidder Carol</h4>
                    <input type="number" id="bid3" placeholder="Enter bid amount ($)" min="5000" step="100">
                    <button onclick="placeBid(3)" id="btn3">Encrypt & Submit Bid</button>
                    <div class="bid-status" id="status3"></div>
                </div>
            </div>

            <div class="process-visualization" id="process-viz" style="display: none;">
                <h3 style="color: #667eea; margin-bottom: 15px;">üîÑ What's Happening Behind the Scenes:</h3>
                
                <div class="process-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h4>Client-Side Encryption</h4>
                        <p>Your bid is encrypted on your device using FHE before it leaves your browser. Nobody can intercept and read it.</p>
                    </div>
                </div>

                <div class="process-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h4>On-Chain Storage</h4>
                        <p>The encrypted bid is stored on the blockchain. It's public but unreadable - looks like random gibberish to everyone.</p>
                    </div>
                </div>

                <div class="process-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h4>Encrypted Comparison</h4>
                        <p>Fhenix's FHE smart contract compares all encrypted bids WITHOUT decrypting them. It can determine "which is bigger" while everything stays encrypted!</p>
                    </div>
                </div>

                <div class="process-step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h4>Controlled Reveal</h4>
                        <p>Only when the auction ends and you authorize it, the bids are decrypted to announce the winner. Until then, perfect privacy.</p>
                    </div>
                </div>
            </div>

            <div class="reveal-section" id="reveal-section" style="display: none;">
                <h3>üéâ All Bids Submitted!</h3>
                <p style="margin-bottom: 15px;">The smart contract has compared all encrypted bids and determined the winner - all without decrypting them! Click below to reveal the results:</p>
                <button onclick="revealWinner()" style="background: #27ae60;">üîì Reveal Auction Results</button>
                <div id="winner-result"></div>
            </div>

            <button class="reset-btn" onclick="resetAuction()">üîÑ Reset Auction & Try Again</button>
        </div>

        <!-- Technical Explanation -->
        <div class="explanation-box">
            <h2>üß† The Magic Behind FHE</h2>
            <p>
                <strong>Traditional Encryption:</strong> You encrypt data ‚Üí send it ‚Üí receiver decrypts it. The computer can't do anything with encrypted data except store it.
            </p>
            <p>
                <strong>Fully Homomorphic Encryption (FHE):</strong> You encrypt data ‚Üí send it ‚Üí <span class="highlight">computer performs calculations on the encrypted data directly</span> ‚Üí results come out encrypted ‚Üí only you can decrypt the final answer.
            </p>
            <p>
        
            </p>
            <p>
                <strong>In this auction:</strong> The smart contract can compare encrypted numbers, find the maximum value, and determine a winner - all without ever seeing the actual bid amounts. This is what makes Fhenix revolutionary for blockchain privacy.
            </p>
        </div>

        <footer>
            <div style="display: flex; align-items: center; justify-content: center; gap: 15px; flex-wrap: wrap;">
                <img src="https://pbs.twimg.com/profile_images/1988225826291429376/PdGHvctB_400x400.jpg" 
                     alt="Risky" 
                     style="width: 60px; height: 60px; border-radius: 50%; border: 3px solid white; box-shadow: 0 4px 10px rgba(0,0,0,0.3);">
                <div style="text-align: left;">
                    <p style="font-size: 1.2em; font-weight: 600; margin-bottom: 5px;">Made by Risky</p>
                    <p style="font-size: 0.95em;">
                        <a href="https://x.com/risky_xyz" target="_blank" style="color: white; text-decoration: none; display: inline-flex; align-items: center; gap: 5px;">
                            ùïè @risky_xyz
                        </a>
                    </p>
                </div>
            </div>
        </footer>
    </div>

    <script>
        const bids = {};
        const encryptedBids = {};
        let submittedCount = 0;

        function simulateEncryption(value) {
            // Create a realistic-looking encrypted string
            const prefix = 'FHE_ENC_';
            const randomHex = Array.from({length: 48}, () => 
                Math.floor(Math.random() * 16).toString(16)).join('');
            return prefix + randomHex;
        }

        function placeBid(bidderNum) {
            const bidInput = document.getElementById(`bid${bidderNum}`);
            const bidAmount = parseFloat(bidInput.value);
            
            if (!bidAmount || bidAmount < 5000) {
                alert('Please enter a bid of at least $5,000!');
                return;
            }

            const button = document.getElementById(`btn${bidderNum}`);
            const status = document.getElementById(`status${bidderNum}`);
            const card = document.getElementById(`bidder${bidderNum}-card`);
            
            // Disable button
            button.disabled = true;
            button.textContent = 'Encrypting...';
            
            // Simulate encryption delay
            setTimeout(() => {
                const encrypted = simulateEncryption(bidAmount);
                bids[`bidder${bidderNum}`] = bidAmount;
                encryptedBids[`bidder${bidderNum}`] = encrypted;
                
                status.className = 'bid-status submitted';
                status.innerHTML = `
                    ‚úÖ Bid Submitted!<br>
                    <div class="encrypted-data" style="margin-top: 8px; font-size: 0.75em;">
                        ${encrypted}
                    </div>
                    <small style="display: block; margin-top: 5px;">Your bid is encrypted on-chain</small>
                `;
                
                button.textContent = '‚úì Bid Locked In';
                card.classList.add('active');
                submittedCount++;
                
                // Show process visualization after first bid
                if (submittedCount === 1) {
                    document.getElementById('process-viz').style.display = 'block';
                }
                
                // Show reveal section when all bids are in
                if (submittedCount === 3) {
                    document.getElementById('reveal-section').style.display = 'block';
                    document.getElementById('reveal-section').scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            }, 1200);
        }

        function revealWinner() {
            const resultDiv = document.getElementById('winner-result');
            resultDiv.innerHTML = '<div style="text-align: center; padding: 20px;">üîê Decrypting bids...</div>';
            
            setTimeout(() => {
                // Find highest bidder
                let maxBid = 0;
                let winner = '';
                const bidderNames = {
                    'bidder1': 'Alice',
                    'bidder2': 'Bob',
                    'bidder3': 'Carol'
                };
                
                for (let bidder in bids) {
                    if (bids[bidder] > maxBid) {
                        maxBid = bids[bidder];
                        winner = bidder;
                    }
                }
                
                resultDiv.innerHTML = `
                    <div class="winner-announcement">
                        <h2 style="margin-bottom: 15px;">üèÜ Winner: ${bidderNames[winner]}!</h2>
                        <p style="font-size: 0.9em; margin-bottom: 20px;">Winning Bid: $${maxBid.toLocaleString()}</p>
                    </div>
                    <div style="margin-top: 20px; padding: 20px; background: white; border-radius: 10px;">
                        <h4 style="color: #667eea; margin-bottom: 15px;">üìä All Bids Revealed:</h4>
                        <p><strong>Alice bid:</strong> $${bids['bidder1']?.toLocaleString() || 'Not submitted'}</p>
                        <p><strong>Bob bid:</strong> $${bids['bidder2']?.toLocaleString() || 'Not submitted'}</p>
                        <p><strong>Carol bid:</strong> $${bids['bidder3']?.toLocaleString() || 'Not submitted'}</p>
                        <p style="margin-top: 15px; padding: 15px; background: #f0f4ff; border-radius: 8px; font-size: 0.95em;">
                            <strong>üéØ Key Point:</strong> The smart contract knew which bid was highest WITHOUT ever decrypting them during the auction. This is the power of Fully Homomorphic Encryption!
                        </p>
                    </div>
                `;
            }, 1500);
        }

        function resetAuction() {
            // Reset all state
            Object.keys(bids).forEach(key => delete bids[key]);
            Object.keys(encryptedBids).forEach(key => delete encryptedBids[key]);
            submittedCount = 0;
            
            // Reset UI
            for (let i = 1; i <= 3; i++) {
                document.getElementById(`bid${i}`).value = '';
                document.getElementById(`btn${i}`).disabled = false;
                document.getElementById(`btn${i}`).textContent = 'Encrypt & Submit Bid';
                document.getElementById(`status${i}`).className = 'bid-status';
                document.getElementById(`status${i}`).innerHTML = '';
                document.getElementById(`bidder${i}-card`).classList.remove('active');
            }
            
            document.getElementById('process-viz').style.display = 'none';
            document.getElementById('reveal-section').style.display = 'none';
            document.getElementById('winner-result').innerHTML = '';
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>
